# C++ 项目编码规范 (基于Google C++ Style Guide)

## 1. 文件规范

### 文件命名
- 文件名小驼峰
- 头文件使用`.h`扩展名
- 源文件使用`.cpp`
- 单元测试文件命名：`被测文件_test.cpp`（如`foo_test.cpp`）

### 文件组织
- 每个类通常应该有对应的`.h`和`.cpp`文件
- 头文件应使用`#define`保护防止多重包含：
```cpp
#pragma once
```

## 2. 命名规范

### 通用规则
- 标识符命名应具有描述性
- 避免缩写（除非是广泛认可的缩写如`max`、`min`）

### 具体命名规则
| 类型 | 命名风格 | 示例 |
|------|----------|------|
| 类/结构体 | 大驼峰 | `MyClass` |
| 函数 | 大驼峰 | `CalculateTotal()` |
| 变量/函数参数变量 | 小驼峰 | `totalCount` |
| 常量 | k+大驼峰 | `kMaxCount` |
| 枚举 | 大驼峰 | `enum UrlTableErrors` |
| 命名空间 | 小写 | `project_namespace` |
| 宏 | 全大写+下划线 | `MY_MACRO` |
| 成员变量 | 小驼峰，结尾使用_标记 | `maxSize_` |

## 3. 类规范

### 类设计
- 类职责应单一明确
- 优先使用组合而非继承
- 数据成员应私有，通过访问函数暴露

### 构造函数
- 单参数构造函数应使用`explicit`标记
- 构造函数不应调用虚函数

### 继承
- 公开继承应表示"is-a"关系
- 多继承应谨慎使用，通常只用于接口类

## 4. 函数规范

### 函数设计
- 函数应短小专注（建议不超过40行）
- 参数数量不宜过多（建议不超过5个）
- 输出参数应避免，优先使用返回值

### 参数顺序
1. 输入参数
2. 输出参数（尽量避免）

### 函数重载
- 仅在语义相似时使用重载
- 避免仅靠参数类型不同来重载

## 5. 格式规范

### 缩进
- 使用制表符

### 行长度
- 每行不超过80个字符

### 大括号
- 函数、类、控制语句等都应使用大括号
- 左大括号不换行：
```cpp
void Foo() {
  if (x) {
    ...
  }
}
```

## 6. 注释规范

### 文件注释
- 每个文件应有版权声明和简要描述

### 类注释
- 每个类应有描述其用途的注释

### 函数注释
- 函数声明处应说明功能、参数、返回值
- 实现处可省略注释（除非算法复杂）

### 实现注释
- 复杂逻辑应有行注释说明
- 避免无意义的注释

## 7. 其他规范

### 异常处理
- 不建议使用C++异常
- 使用错误码或状态对象处理错误

### 类型转换
- 避免C风格强制转换
- 使用C++的`static_cast`等

### 线程安全
- 共享数据应明确线程安全策略
- 使用适当的同步原语

## 8. 包含顺序
1. 相关头文件
2. C系统头文件
3. C++标准库头文件
4. 其他库头文件
5. 本项目头文件


## 9.文件命名规范
  类型/结构体定义用 Types.h 或 Structs.h
  错误码用 ErrorCodes.h
  工具类/函数用 Utils.h
  配置相关用 Config.h
  避免 Def.h、Defs.h 这类不够具体的后缀


布尔变量采用小驼峰命名法（如 isValid, hasError）
使用明确的布尔语义前缀（推荐 is/has/can 等）